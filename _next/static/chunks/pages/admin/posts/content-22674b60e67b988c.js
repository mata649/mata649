(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{2913:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/posts/content",function(){return __webpack_require__(5637)}])},8075:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{HS:function(){return AddButton},Xg:function(){return AdminCard},xE:function(){return BackButton},iA:function(){return Table}});var jsx_runtime=__webpack_require__(5893),next_link=__webpack_require__(1664),link_default=__webpack_require__.n(next_link);__webpack_require__(7294);let AdminCard=param=>{let{name,route}=param;return(0,jsx_runtime.jsx)(link_default(),{href:"/admin/".concat(route),className:"flex items-center justify-center py-6 text-center border rounded-lg hover:border-yellow-400 hover:scale-105",children:(0,jsx_runtime.jsx)("h1",{className:"text-4xl md:text-5xl",children:name})})},BackButton=()=>(0,jsx_runtime.jsx)(link_default(),{href:"/admin",className:"p-1 mb-2 text-xl rounded-lg hover:text-yellow-400 hover:scale-105",children:"Back"}),AddButton=param=>{let{href}=param;return(0,jsx_runtime.jsx)(link_default(),{href:"/admin/".concat(href),className:"p-1 mb-2 text-xl hover:text-yellow-400 hover:scale-105",children:"Add"})},Table=param=>{let{children,labels}=param;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("table",{className:"border border-collapse ",children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)("tr",{children:labels.map(label=>(0,jsx_runtime.jsx)("th",{children:label},label))})}),(0,jsx_runtime.jsx)("tbody",{children:children})]})})}},5180:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return PostContentCard},C:function(){return ToggleButton}});var jsx_runtime=__webpack_require__(5893),next_router=__webpack_require__(1163);__webpack_require__(7294);var index_es=__webpack_require__(9603),free_regular_svg_icons=__webpack_require__(4288);let PostContentCard=param=>{let{postContent,handleDelete}=param,router=(0,next_router.useRouter)(),handleRedirectToForm=()=>{let{id,content,idPost,language,title}=postContent;router.push({pathname:"/admin/posts/content/form",query:{id,content,idPost,language,title}})};return(0,jsx_runtime.jsxs)("div",{className:"p-2 border ",children:[(0,jsx_runtime.jsx)("p",{className:"mb-2 text-3xl truncate border-b-2",children:postContent.title}),(0,jsx_runtime.jsx)("p",{className:"mb-2",children:postContent.language}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between",children:[(0,jsx_runtime.jsx)("button",{onClick:handleRedirectToForm,children:(0,jsx_runtime.jsx)(index_es.G,{className:"text-xl text-white hover:text-yellow-400",icon:free_regular_svg_icons.Yai})}),(0,jsx_runtime.jsx)("button",{className:"hover:text-yellow-400",onClick:()=>handleDelete(postContent.id,postContent.title),children:(0,jsx_runtime.jsx)(index_es.G,{className:"text-xl text-white hover:text-yellow-400",icon:free_regular_svg_icons.I7k})})]})]})},ToggleButton=param=>{let{setToggle,toggle}=param;return(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center ",children:[(0,jsx_runtime.jsx)("span",{className:"ml-1 mr-1 -mb-2",children:"ENG"}),(0,jsx_runtime.jsx)("div",{className:"flex items-center w-12 h-6 p-1 bg-gray-400 rounded-full cursor-pointer place-self-end md:w-14 md:h-7",onClick(){setToggle(!toggle)},children:(0,jsx_runtime.jsx)("div",{className:"bg-black md:w-6 md:h-6 h-5 w-5 rounded-full shadow-md transform duration-300 ease-in-out"+(toggle?null:" transform translate-x-5 bg-yellow-400")})}),(0,jsx_runtime.jsx)("span",{className:"ml-1 -mb-2",children:"ESP"})]})}},6965:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{jT:function(){return errorModal},e$:function(){return getErrorMessage},Sb:function(){return successModal},Of:function(){return validateFields},IG:function(){return yesNoModal}});let getErrorMessage=error=>{var ref,ref1,ref2;return(null===(ref=error.response)||void 0===ref?void 0:ref.status)===400&&(null===(ref2=error.response)||void 0===ref2||ref2.data.message[0].error),null===(ref1=error.response)||void 0===ref1?void 0:ref1.data.message};var sweetalert2_all=__webpack_require__(6455),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all);let errorModal=text=>{sweetalert2_all_default().fire({title:"Error!",text:text.charAt(0).toUpperCase()+text.slice(1),icon:"error",confirmButtonText:"Ok",customClass:{popup:"modal-popup",confirmButton:"modal-confirm-button"}})},successModal=text=>{sweetalert2_all_default().fire({title:"Success!",text:text.charAt(0).toUpperCase()+text.slice(1),icon:"success",confirmButtonText:"Ok",customClass:{popup:"modal-popup",confirmButton:"modal-confirm-button"}})},yesNoModal=async text=>{let result=sweetalert2_all_default().fire({title:text,showCancelButton:!0,confirmButtonText:"Yes",customClass:{popup:"modal-popup",confirmButton:"modal-confirm-button",cancelButton:"modal-cancel-button"}});return result},validateFields=fields=>{for(let field of fields)if(void 0===field.value||0===field.value.length)return field;return null}},5637:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3433),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(196),components_admin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8075),components_admin_postContent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5180),helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6965),hooks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7186),next_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1163);__webpack_require__(7294);let Content=()=>{(0,hooks__WEBPACK_IMPORTED_MODULE_6__.DH)();let router=(0,next_router__WEBPACK_IMPORTED_MODULE_7__.useRouter)(),{idPost}=router.query,postContentAPI=(0,hooks__WEBPACK_IMPORTED_MODULE_6__.ij)(new api__WEBPACK_IMPORTED_MODULE_1__._R("".concat("https://portfolio-api-3fr6.onrender.com","/postsContent"))),{items:postsContent,setItems:setPostContent}=(0,hooks__WEBPACK_IMPORTED_MODULE_6__.ib)(postContentAPI,{currentPage:1,limit:2},[{order:"asc",by:"language"}],{idPost:idPost}),handleDelete=async(id,name)=>{let result=await (0,helpers__WEBPACK_IMPORTED_MODULE_5__.IG)("Do you want to delete ".concat(name,"?"));if(result.isConfirmed){let resp=await postContentAPI.delete(id);if(!axios__WEBPACK_IMPORTED_MODULE_2__.ZP.isAxiosError(resp)&&null!==resp){(0,helpers__WEBPACK_IMPORTED_MODULE_5__.Sb)("".concat(resp.title," was deleted successfully")),setPostContent(postsContent.filter(content=>content.id!==id));return}(0,helpers__WEBPACK_IMPORTED_MODULE_5__.jT)("An error occurs while ".concat(name," was being deleted"))}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid sm:grid-cols-3 md:grid-cols-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-2 gap-4 mx-16 sm:col-start-2 md:col-start-2 md:col-span-2 sm:flex-row",children:[postsContent.map(content=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_admin_postContent__WEBPACK_IMPORTED_MODULE_4__.Q,{handleDelete:handleDelete,postContent:content},content.id)),postsContent.length<2&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_admin__WEBPACK_IMPORTED_MODULE_3__.HS,{href:"/posts/content/form?idPost=".concat(idPost)})})]})})};__webpack_exports__.default=Content}},function(__webpack_require__){__webpack_require__.O(0,[455,774,888,179],function(){return __webpack_require__(__webpack_require__.s=2913)}),_N_E=__webpack_require__.O()}]);