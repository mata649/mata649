(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[551],{9265:function(module){module.exports=function(){"use strict";function forEach(obj,callback){if(obj)for(var key in obj)({}).hasOwnProperty.call(obj,key)&&callback(key,obj[key])}var blockTypesMapping={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function getBlockTag(type){return type&&blockTypesMapping[type]}function getBlockStyle(data){var styles="";return forEach(data,function(key,value){value&&(styles+="".concat(key,":").concat(value,";"))}),styles}function getEntityMarkup(entityMap,entityKey,text,customEntityTransform){var entity=entityMap[entityKey];if("function"==typeof customEntityTransform){var html=customEntityTransform(entity,text);if(html)return html}if("MENTION"===entity.type)return'<a href="'.concat(entity.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(entity.data.value,'">').concat(text,"</a>");if("LINK"===entity.type){var targetOption=entity.data.targetOption||"_self";return'<a href="'.concat(entity.data.url,'" target="').concat(targetOption,'">').concat(text,"</a>")}if("IMAGE"===entity.type){var alignment=entity.data.alignment;return alignment&&alignment.length?'<div style="text-align:'.concat(alignment,';"><img src="').concat(entity.data.src,'" alt="').concat(entity.data.alt,'" style="height: ').concat(entity.data.height,";width: ").concat(entity.data.width,'"/></div>'):'<img src="'.concat(entity.data.src,'" alt="').concat(entity.data.alt,'" style="height: ').concat(entity.data.height,";width: ").concat(entity.data.width,'"/>')}return"EMBEDDED_LINK"===entity.type?'<iframe width="'.concat(entity.data.width,'" height="').concat(entity.data.height,'" src="').concat(entity.data.src,'" frameBorder="0"></iframe>'):text}function getInlineStyleSections(block,styles,start,end){var styleSections=[],text=Array.from(block.text);if(text.length>0)for(var text1,inlineStyleRanges,inlineStyles,section,inlineStyles1=(text1=block.text,inlineStyleRanges=block.inlineStyleRanges,inlineStyles={BOLD:Array(text1.length),ITALIC:Array(text1.length),UNDERLINE:Array(text1.length),STRIKETHROUGH:Array(text1.length),CODE:Array(text1.length),SUPERSCRIPT:Array(text1.length),SUBSCRIPT:Array(text1.length),COLOR:Array(text1.length),BGCOLOR:Array(text1.length),FONTSIZE:Array(text1.length),FONTFAMILY:Array(text1.length),length:text1.length},inlineStyleRanges&&inlineStyleRanges.length>0&&inlineStyleRanges.forEach(function(range){for(var offset=range.offset,length=offset+range.length,i=offset;i<length;i+=1)0===range.style.indexOf("color-")?inlineStyles.COLOR[i]=range.style.substring(6):0===range.style.indexOf("bgcolor-")?inlineStyles.BGCOLOR[i]=range.style.substring(8):0===range.style.indexOf("fontsize-")?inlineStyles.FONTSIZE[i]=range.style.substring(9):0===range.style.indexOf("fontfamily-")?inlineStyles.FONTFAMILY[i]=range.style.substring(11):inlineStyles[range.style]&&(inlineStyles[range.style][i]=!0)}),inlineStyles),i=start;i<end;i+=1)i!==start&&function(inlineStyles,styles,index){var sameStyled=!0;return index>0&&index<inlineStyles.length?styles.forEach(function(style){sameStyled=sameStyled&&inlineStyles[style][index]===inlineStyles[style][index-1]}):sameStyled=!1,sameStyled}(inlineStyles1,styles,i)?(section.text.push(text[i]),section.end=i+1):styleSections.push(section={styles:function(inlineStyles,offset){var styles={};return inlineStyles.COLOR[offset]&&(styles.COLOR=inlineStyles.COLOR[offset]),inlineStyles.BGCOLOR[offset]&&(styles.BGCOLOR=inlineStyles.BGCOLOR[offset]),inlineStyles.FONTSIZE[offset]&&(styles.FONTSIZE=inlineStyles.FONTSIZE[offset]),inlineStyles.FONTFAMILY[offset]&&(styles.FONTFAMILY=inlineStyles.FONTFAMILY[offset]),inlineStyles.UNDERLINE[offset]&&(styles.UNDERLINE=!0),inlineStyles.ITALIC[offset]&&(styles.ITALIC=!0),inlineStyles.BOLD[offset]&&(styles.BOLD=!0),inlineStyles.STRIKETHROUGH[offset]&&(styles.STRIKETHROUGH=!0),inlineStyles.CODE[offset]&&(styles.CODE=!0),inlineStyles.SUBSCRIPT[offset]&&(styles.SUBSCRIPT=!0),inlineStyles.SUPERSCRIPT[offset]&&(styles.SUPERSCRIPT=!0),styles}(inlineStyles1,i),text:[text[i]],start:i,end:i+1});return styleSections}function getBlockInnerMarkup(block,entityMap,hashtagConfig,customEntityTransform){var sections,lastOffset,blockMarkup=[],sections1=(sections=[],lastOffset=0,block.entityRanges.map(function(range){return{offset:range.offset,length:range.length,key:range.key,type:"ENTITY"}}).concat(function(blockText,hashtagConfig){var sections=[];if(hashtagConfig){for(var counter=0,startIndex=0,text=blockText,trigger=hashtagConfig.trigger||"#",separator=hashtagConfig.separator||" ";text.length>0&&startIndex>=0;)if(text[0]===trigger?(startIndex=0,counter=0,text=text.substr(trigger.length)):(startIndex=text.indexOf(separator+trigger))>=0&&(text=text.substr(startIndex+(separator+trigger).length),counter+=startIndex+separator.length),startIndex>=0){var endIndex=text.indexOf(separator)>=0?text.indexOf(separator):text.length,hashtag=text.substr(0,endIndex);hashtag&&hashtag.length>0&&sections.push({offset:counter,length:hashtag.length+trigger.length,type:"HASHTAG"}),counter+=trigger.length}}return sections}(block.text,hashtagConfig)).sort(function(s1,s2){return s1.offset-s2.offset}).forEach(function(r){r.offset>lastOffset&&sections.push({start:lastOffset,end:r.offset}),sections.push({start:r.offset,end:r.offset+r.length,entityKey:r.key,type:r.type}),lastOffset=r.offset+r.length}),lastOffset<block.text.length&&sections.push({start:lastOffset,end:block.text.length}),sections);return sections1.forEach(function(section,index){var sectionText=function(block,entityMap,section,customEntityTransform){var entityInlineMarkup=[];getInlineStyleSections(block,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],section.start,section.end).forEach(function(styleSection){var styleTagSections,styleSectionText;entityInlineMarkup.push((styleTagSections=getInlineStyleSections(block,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],styleSection.start,styleSection.end),styleSectionText="",styleTagSections.forEach(function(stylePropertySection){var styles,text,content;styleSectionText+=(styles=stylePropertySection.styles,content=(text=stylePropertySection.text)&&text.length>0?text.map(function(ch){switch(ch){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return ch}}).join(""):"",forEach(styles,function(style,value){var content1;content1=content,content="BOLD"===style?"<strong>".concat(content1,"</strong>"):"ITALIC"===style?"<em>".concat(content1,"</em>"):"UNDERLINE"===style?"<ins>".concat(content1,"</ins>"):"STRIKETHROUGH"===style?"<del>".concat(content1,"</del>"):"CODE"===style?"<code>".concat(content1,"</code>"):"SUPERSCRIPT"===style?"<sup>".concat(content1,"</sup>"):"SUBSCRIPT"===style?"<sub>".concat(content1,"</sub>"):content1}),content)}),styleSectionText=function(styles,text){if(styles&&(styles.COLOR||styles.BGCOLOR||styles.FONTSIZE||styles.FONTFAMILY)){var styleString='style="';return styles.COLOR&&(styleString+="color: ".concat(styles.COLOR,";")),styles.BGCOLOR&&(styleString+="background-color: ".concat(styles.BGCOLOR,";")),styles.FONTSIZE&&(styleString+="font-size: ".concat(styles.FONTSIZE).concat(/^\d+$/.test(styles.FONTSIZE)?"px":"",";")),styles.FONTFAMILY&&(styleString+="font-family: ".concat(styles.FONTFAMILY,";")),styleString+='"',"<span ".concat(styleString,">").concat(text,"</span>")}return text}(styleSection.styles,styleSectionText)))});var sectionText=entityInlineMarkup.join("");return"ENTITY"===section.type?void 0!==section.entityKey&&null!==section.entityKey&&(sectionText=getEntityMarkup(entityMap,section.entityKey,sectionText,customEntityTransform)):"HASHTAG"===section.type&&(sectionText='<a href="'.concat(sectionText,'" class="wysiwyg-hashtag">').concat(sectionText,"</a>")),sectionText}(block,entityMap,section,customEntityTransform);0===index&&(sectionText=function(sectionText){if(sectionText){for(var replacedText=sectionText,i=0;i<replacedText.length;i+=1)if(" "===sectionText[i])replacedText=replacedText.replace(" ","&nbsp;");else break;return replacedText}return sectionText}(sectionText)),index===sections1.length-1&&(sectionText=function(sectionText){if(sectionText){for(var replacedText=sectionText,i=replacedText.length-1;i>=0;i-=1)if(" "===replacedText[i])replacedText="".concat(replacedText.substring(0,i),"&nbsp;").concat(replacedText.substring(i+1));else break;return replacedText}return sectionText}(sectionText)),blockMarkup.push(sectionText)}),blockMarkup.join("")}function getListMarkup(listBlocks,entityMap,hashtagConfig,directional,customEntityTransform){var previousBlock,listHtml=[],nestedListBlock=[];return listBlocks.forEach(function(block){var nestedBlock=!1;if(previousBlock?previousBlock.type!==block.type?(listHtml.push("</".concat(getBlockTag(previousBlock.type),">\n")),listHtml.push("<".concat(getBlockTag(block.type),">\n"))):previousBlock.depth===block.depth?nestedListBlock&&nestedListBlock.length>0&&(listHtml.push(getListMarkup(nestedListBlock,entityMap,hashtagConfig,directional,customEntityTransform)),nestedListBlock=[]):(nestedBlock=!0,nestedListBlock.push(block)):listHtml.push("<".concat(getBlockTag(block.type),">\n")),!nestedBlock){listHtml.push("<li");var blockStyle=getBlockStyle(block.data);blockStyle&&listHtml.push(' style="'.concat(blockStyle,'"')),directional&&listHtml.push(' dir = "auto"'),listHtml.push(">"),listHtml.push(getBlockInnerMarkup(block,entityMap,hashtagConfig,customEntityTransform)),listHtml.push("</li>\n"),previousBlock=block}}),nestedListBlock&&nestedListBlock.length>0&&listHtml.push(getListMarkup(nestedListBlock,entityMap,hashtagConfig,directional,customEntityTransform)),listHtml.push("</".concat(getBlockTag(previousBlock.type),">\n")),listHtml.join("")}return function(editorContent,hashtagConfig,directional,customEntityTransform){var html=[];if(editorContent){var blocks=editorContent.blocks,entityMap=editorContent.entityMap;if(blocks&&blocks.length>0){var listBlocks=[];if(blocks.forEach(function(block){var blockType;if("unordered-list-item"===(blockType=block.type)||"ordered-list-item"===blockType)listBlocks.push(block);else{if(listBlocks.length>0){var listHtml=getListMarkup(listBlocks,entityMap,hashtagConfig,customEntityTransform);html.push(listHtml),listBlocks=[]}var blockHtml=function(block,entityMap,hashtagConfig,directional,customEntityTransform){var str,blockHtml=[];if(block.entityRanges.length>0&&(null==(str=block.text)||0===str.length||0===str.trim().length||"atomic"===block.type)?0:1){var blockTag=getBlockTag(block.type);if(blockTag){blockHtml.push("<".concat(blockTag));var blockStyle=getBlockStyle(block.data);blockStyle&&blockHtml.push(' style="'.concat(blockStyle,'"')),directional&&blockHtml.push(' dir = "auto"'),blockHtml.push(">"),blockHtml.push(getBlockInnerMarkup(block,entityMap,hashtagConfig,customEntityTransform)),blockHtml.push("</".concat(blockTag,">"))}}else blockHtml.push(getEntityMarkup(entityMap,block.entityRanges[0].key,void 0,customEntityTransform));return blockHtml.push("\n"),blockHtml.join("")}(block,entityMap,hashtagConfig,directional,customEntityTransform);html.push(blockHtml)}}),listBlocks.length>0){var listHtml=getListMarkup(listBlocks,entityMap,hashtagConfig,directional,customEntityTransform);html.push(listHtml),listBlocks=[]}}}return html.join("")}}()},104:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/posts/content/form",function(){return __webpack_require__(2369)}])},5180:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return PostContentCard},C:function(){return ToggleButton}});var jsx_runtime=__webpack_require__(5893),next_router=__webpack_require__(1163);__webpack_require__(7294);var index_es=__webpack_require__(9603),free_regular_svg_icons=__webpack_require__(4288);let PostContentCard=param=>{let{postContent,handleDelete}=param,router=(0,next_router.useRouter)(),handleRedirectToForm=()=>{let{id,content,idPost,language,title}=postContent;router.push({pathname:"/admin/posts/content/form",query:{id,content,idPost,language,title}})};return(0,jsx_runtime.jsxs)("div",{className:"p-2 border border-txt-light dark:border-txt-dark",children:[(0,jsx_runtime.jsx)("p",{className:"mb-2 text-3xl truncate border-b-2 border-txt-light dark:border-txt-dark",children:postContent.title}),(0,jsx_runtime.jsx)("p",{className:"mb-2",children:postContent.language}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between ",children:[(0,jsx_runtime.jsx)("button",{onClick:handleRedirectToForm,children:(0,jsx_runtime.jsx)(index_es.G,{className:"text-xl text-txt-light dark:text-txt-dark hover:text-secondary dark:hover:text-secondary",icon:free_regular_svg_icons.Yai})}),(0,jsx_runtime.jsx)("button",{className:"hover:text-secondary dark:hover:text-secondary",onClick:()=>handleDelete(postContent.id,postContent.title),children:(0,jsx_runtime.jsx)(index_es.G,{className:"text-xl text-txt-light dark:text-txt-dark hover:text-secondary dark:hover:text-secondary",icon:free_regular_svg_icons.I7k})})]})]})},ToggleButton=param=>{let{setToggle,toggle}=param;return(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center ",children:[(0,jsx_runtime.jsx)("span",{className:"ml-1 mr-1 -mb-2",children:"ENG"}),(0,jsx_runtime.jsx)("div",{className:"flex items-center w-12 h-6 p-1 bg-gray-400 rounded-full cursor-pointer place-self-end md:w-14 md:h-7",onClick(){setToggle(!toggle)},children:(0,jsx_runtime.jsx)("div",{className:"bg-black md:w-6 md:h-6 h-5 w-5 rounded-full shadow-md transform duration-300 ease-in-out"+(toggle?null:" transform translate-x-5 bg-yellow-400")})}),(0,jsx_runtime.jsx)("span",{className:"ml-1 -mb-2",children:"ESP"})]})}},6965:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{jT:function(){return errorModal},e$:function(){return getErrorMessage},Sb:function(){return successModal},Of:function(){return validateFields},IG:function(){return yesNoModal}});let getErrorMessage=error=>{var ref,ref1,ref2;return(null===(ref=error.response)||void 0===ref?void 0:ref.status)===400&&(null===(ref2=error.response)||void 0===ref2||ref2.data.message[0].error),null===(ref1=error.response)||void 0===ref1?void 0:ref1.data.message};var sweetalert2_all=__webpack_require__(6455),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all);let errorModal=text=>{text=Array.isArray(text)?text[0].error:text,sweetalert2_all_default().fire({title:"Error!",text:text.charAt(0).toUpperCase()+text.slice(1),icon:"error",confirmButtonText:"Ok",customClass:{popup:"modal-popup",confirmButton:"modal-confirm-button"}})},successModal=text=>{sweetalert2_all_default().fire({title:"Success!",text:text.charAt(0).toUpperCase()+text.slice(1),icon:"success",confirmButtonText:"Ok",customClass:{popup:"modal-popup",confirmButton:"modal-confirm-button"}})},yesNoModal=async text=>{let result=sweetalert2_all_default().fire({title:text,showCancelButton:!0,confirmButtonText:"Yes",customClass:{popup:"modal-popup",confirmButton:"modal-confirm-button",cancelButton:"modal-cancel-button"}});return result},validateFields=fields=>{for(let field of fields)if(void 0===field.value||0===field.value.length)return field;return null}},7645:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(dynamicOptions,options){let loadableFn=_loadable.default,loadableOptions=(null==options?void 0:options.suspense)?{}:{loading(param){let{error,isLoading,pastDelay}=param;return null}};if(dynamicOptions instanceof Promise?loadableOptions.loader=()=>dynamicOptions:"function"==typeof dynamicOptions?loadableOptions.loader=dynamicOptions:"object"==typeof dynamicOptions&&(loadableOptions=_extends({},loadableOptions,dynamicOptions)),(loadableOptions=_extends({},loadableOptions,options)).suspense&&(delete loadableOptions.ssr,delete loadableOptions.loading),loadableOptions.loadableGenerated&&delete(loadableOptions=_extends({},loadableOptions,loadableOptions.loadableGenerated)).loadableGenerated,"boolean"==typeof loadableOptions.ssr&&!loadableOptions.suspense){if(!loadableOptions.ssr)return delete loadableOptions.ssr,noSSR(loadableFn,loadableOptions);delete loadableOptions.ssr}return loadableFn(loadableOptions)},exports.noSSR=noSSR;var _extends=__webpack_require__(6495).Z,_interop_require_default=__webpack_require__(2648).Z,_loadable=(_interop_require_default(__webpack_require__(7294)),_interop_require_default(__webpack_require__(4588)));function noSSR(LoadableInitializer,loadableOptions){return delete loadableOptions.webpack,delete loadableOptions.modules,LoadableInitializer(loadableOptions)}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},3644:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadableContext=void 0;var _react=(0,__webpack_require__(2648).Z)(__webpack_require__(7294));let LoadableContext=_react.default.createContext(null);exports.LoadableContext=LoadableContext},4588:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends=__webpack_require__(6495).Z,_react=(0,__webpack_require__(1598).Z)(__webpack_require__(7294)),_loadableContext=__webpack_require__(3644);let ALL_INITIALIZERS=[],READY_INITIALIZERS=[],initialized=!1;function load(loader){let promise=loader(),state={loading:!0,loaded:null,error:null};return state.promise=promise.then(loaded=>(state.loading=!1,state.loaded=loaded,loaded)).catch(err=>{throw state.loading=!1,state.error=err,err}),state}class LoadableSubscription{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:res,_opts:opts}=this;res.loading&&("number"==typeof opts.delay&&(0===opts.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},opts.delay)),"number"==typeof opts.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},opts.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(_err=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(partial){this._state=_extends({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},partial),this._callbacks.forEach(callback=>callback())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(callback){return this._callbacks.add(callback),()=>{this._callbacks.delete(callback)}}constructor(loadFn,opts){this._loadFn=loadFn,this._opts=opts,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function Loadable(opts){return function(loadFn,options){let opts=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},options);opts.suspense&&(opts.lazy=_react.default.lazy(opts.loader));let subscription=null;function init(){if(!subscription){let sub=new LoadableSubscription(loadFn,opts);subscription={getCurrentValue:sub.getCurrentValue.bind(sub),subscribe:sub.subscribe.bind(sub),retry:sub.retry.bind(sub),promise:sub.promise.bind(sub)}}return subscription.promise()}if(!initialized){let moduleIds=opts.webpack?opts.webpack():opts.modules;moduleIds&&READY_INITIALIZERS.push(ids=>{for(let moduleId of moduleIds)if(-1!==ids.indexOf(moduleId))return init()})}function useLoadableModule(){init();let context=_react.default.useContext(_loadableContext.LoadableContext);context&&Array.isArray(opts.modules)&&opts.modules.forEach(moduleName=>{context(moduleName)})}let LoadableComponent=opts.suspense?function(props,ref){return useLoadableModule(),_react.default.createElement(opts.lazy,_extends({},props,{ref}))}:function(props,ref){useLoadableModule();let state=_react.useSyncExternalStore(subscription.subscribe,subscription.getCurrentValue,subscription.getCurrentValue);return _react.default.useImperativeHandle(ref,()=>({retry:subscription.retry}),[]),_react.default.useMemo(()=>{var obj;return state.loading||state.error?_react.default.createElement(opts.loading,{isLoading:state.loading,pastDelay:state.pastDelay,timedOut:state.timedOut,error:state.error,retry:subscription.retry}):state.loaded?_react.default.createElement((obj=state.loaded)&&obj.__esModule?obj.default:obj,props):null},[props,state])};return LoadableComponent.preload=()=>init(),LoadableComponent.displayName="LoadableComponent",_react.default.forwardRef(LoadableComponent)}(load,opts)}function flushInitializers(initializers,ids){let promises=[];for(;initializers.length;){let init=initializers.pop();promises.push(init(ids))}return Promise.all(promises).then(()=>{if(initializers.length)return flushInitializers(initializers,ids)})}Loadable.preloadAll=()=>new Promise((resolveInitializers,reject)=>{flushInitializers(ALL_INITIALIZERS).then(resolveInitializers,reject)}),Loadable.preloadReady=function(){let ids=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(resolvePreload=>{let res=()=>(initialized=!0,resolvePreload());flushInitializers(READY_INITIALIZERS,ids).then(res,res)})},window.__NEXT_PRELOADREADY=Loadable.preloadReady,exports.default=Loadable},2369:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3463),components_admin_postContent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5180),next_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1163),helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6965),hooks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7186),api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3433),axios__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(196),draftjs_to_html__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9265),draftjs_to_html__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(draftjs_to_html__WEBPACK_IMPORTED_MODULE_8__);__webpack_require__(9552);var next_dynamic__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5152),next_dynamic__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_10__),draft_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9041);let Editor=next_dynamic__WEBPACK_IMPORTED_MODULE_10___default()(()=>__webpack_require__.e(925).then(__webpack_require__.t.bind(__webpack_require__,5108,23)).then(mod=>mod.Editor),{loadableGenerated:{webpack:()=>[5108]},ssr:!1}),Form=()=>{(0,hooks__WEBPACK_IMPORTED_MODULE_5__.DH)();let router=(0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)(),{idPost,id,content,language:langURL,title}=router.query,[language,setLanguage]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!langURL||"ENG"===langURL),form=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),contentState=(0,hooks__WEBPACK_IMPORTED_MODULE_5__.Hw)(content),[contentText,setContentText]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(draft_js__WEBPACK_IMPORTED_MODULE_11__.EditorState.createEmpty()),[errorMessage,setErrorMessage]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),postContentAPI=(0,hooks__WEBPACK_IMPORTED_MODULE_5__.ij)(new api__WEBPACK_IMPORTED_MODULE_6__._R("".concat("https://portfolio-api-3fr6.onrender.com","/postsContent")));(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{contentState&&setContentText(draft_js__WEBPACK_IMPORTED_MODULE_11__.EditorState.createWithContent(contentState))},[contentState]);let handleCreate=async e=>{var ref;e.preventDefault(),setErrorMessage("");let title=null==form?void 0:null===(ref=form.current)||void 0===ref?void 0:ref.titleText.value,contentTextParsed=draftjs_to_html__WEBPACK_IMPORTED_MODULE_8___default()((0,draft_js__WEBPACK_IMPORTED_MODULE_11__.convertToRaw)(contentText.getCurrentContent())),langSelected=language?"ENG":"ESP",field=(0,helpers__WEBPACK_IMPORTED_MODULE_4__.Of)([{name:"Title",value:title},{name:"Language",value:langSelected},{name:"Content",value:contentTextParsed},{name:"Post",value:idPost}]);if(null!==field){setErrorMessage("".concat(field.name," cannot be empty"));return}let resp=await postContentAPI.create({title,content:contentTextParsed,idPost:idPost,language:langSelected});if(!axios__WEBPACK_IMPORTED_MODULE_7__.ZP.isAxiosError(resp)&&null!==resp){(0,helpers__WEBPACK_IMPORTED_MODULE_4__.Sb)("".concat(resp.title," was created succesfully!")),router.push("/admin/posts");return}(0,helpers__WEBPACK_IMPORTED_MODULE_4__.jT)((0,helpers__WEBPACK_IMPORTED_MODULE_4__.e$)(resp))},handleUpdate=async e=>{var ref;e.preventDefault(),setErrorMessage("");let title=null==form?void 0:null===(ref=form.current)||void 0===ref?void 0:ref.titleText.value,contentTextParsed=draftjs_to_html__WEBPACK_IMPORTED_MODULE_8___default()((0,draft_js__WEBPACK_IMPORTED_MODULE_11__.convertToRaw)(contentText.getCurrentContent())),langSelected=language?"ENG":"ESP",field=(0,helpers__WEBPACK_IMPORTED_MODULE_4__.Of)([{name:"Title",value:title},{name:"Language",value:langSelected},{name:"Content",value:contentTextParsed},{name:"Post",value:idPost}]);if(null!==field){setErrorMessage("".concat(field.name," cannot be empty"));return}let resp=await postContentAPI.update({id:id,title,content:contentTextParsed,idPost:idPost,language:langSelected});if(!axios__WEBPACK_IMPORTED_MODULE_7__.ZP.isAxiosError(resp)&&null!==resp){(0,helpers__WEBPACK_IMPORTED_MODULE_4__.Sb)("".concat(resp.title," was updated succesfully!")),router.push("/admin/posts");return}(0,helpers__WEBPACK_IMPORTED_MODULE_4__.jT)((0,helpers__WEBPACK_IMPORTED_MODULE_4__.e$)(resp))};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{ref:form,className:"justify-center col-span-4 col-start-2",onSubmit:id?handleUpdate:handleCreate,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-red-600",children:errorMessage}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-end",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(components_admin_postContent__WEBPACK_IMPORTED_MODULE_2__.C,{setToggle:setLanguage,toggle:language})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-center mb-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_12__.Z,{name:"titleText",placeholder:"Title",className:"self-center text-4xl text-center text-txt-light dark:text-txt-dark bg-back-light dark:bg-back-dark",defaultValue:title})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Editor,{editorState:contentText,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(editorState){setContentText(editorState)},editorStyle:{height:"400px"}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-center mt-10",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{type:"submit",className:"p-1 mb-2 text-4xl border rounded-lg border-txt-light dark:border-txt-dark hover:border-secondary hover:scale-105",children:id?"Update":"Create"})})]})})};__webpack_exports__.default=Form},9552:function(){},5152:function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__(7645)},3463:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return react_textarea_autosize_browser_esm}});var esm_extends=__webpack_require__(7462),objectWithoutPropertiesLoose=__webpack_require__(3366),react=__webpack_require__(7294),index=react.useLayoutEffect,useLatest=function(value){var ref=react.useRef(value);return index(function(){ref.current=value}),ref},updateRef=function(ref,value){if("function"==typeof ref){ref(value);return}ref.current=value},use_composed_ref_esm=function(libRef,userRef){var prevUserRef=(0,react.useRef)();return(0,react.useCallback)(function(instance){libRef.current=instance,prevUserRef.current&&updateRef(prevUserRef.current,null),prevUserRef.current=userRef,userRef&&updateRef(userRef,instance)},[userRef])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},forceHiddenStyles=function(node){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(key){node.style.setProperty(key,HIDDEN_TEXTAREA_STYLE[key],"important")})},hiddenTextarea=null,getHeight=function(node,sizingData){var height=node.scrollHeight;return"border-box"===sizingData.sizingStyle.boxSizing?height+sizingData.borderSize:height-sizingData.paddingSize},noop=function(){},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],isIE=!!document.documentElement.currentStyle,getSizingData=function(node){var style=window.getComputedStyle(node);if(null===style)return null;var sizingStyle=SIZING_STYLE.reduce(function(acc,prop){return acc[prop]=style[prop],acc},{}),boxSizing=sizingStyle.boxSizing;if(""===boxSizing)return null;isIE&&"border-box"===boxSizing&&(sizingStyle.width=parseFloat(sizingStyle.width)+parseFloat(sizingStyle.borderRightWidth)+parseFloat(sizingStyle.borderLeftWidth)+parseFloat(sizingStyle.paddingRight)+parseFloat(sizingStyle.paddingLeft)+"px");var paddingSize=parseFloat(sizingStyle.paddingBottom)+parseFloat(sizingStyle.paddingTop),borderSize=parseFloat(sizingStyle.borderBottomWidth)+parseFloat(sizingStyle.borderTopWidth);return{sizingStyle:sizingStyle,paddingSize:paddingSize,borderSize:borderSize}},useWindowResizeListener=function(listener){var latestListener=useLatest(listener);(0,react.useLayoutEffect)(function(){var handler=function(event){latestListener.current(event)};return window.addEventListener("resize",handler),function(){window.removeEventListener("resize",handler)}},[])},react_textarea_autosize_browser_esm=(0,react.forwardRef)(function(_ref,userRef){var cacheMeasurements=_ref.cacheMeasurements,maxRows=_ref.maxRows,minRows=_ref.minRows,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?noop:_ref$onChange,_ref$onHeightChange=_ref.onHeightChange,onHeightChange=void 0===_ref$onHeightChange?noop:_ref$onHeightChange,props=(0,objectWithoutPropertiesLoose.Z)(_ref,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),isControlled=void 0!==props.value,libRef=(0,react.useRef)(null),ref=use_composed_ref_esm(libRef,userRef),heightRef=(0,react.useRef)(0),measurementsCacheRef=(0,react.useRef)(),resizeTextarea=function(){var value,minRows1,maxRows1,paddingSize,borderSize,sizingStyle,boxSizing,height,rowHeight,minHeight,maxHeight,node=libRef.current,nodeSizingData=cacheMeasurements&&measurementsCacheRef.current?measurementsCacheRef.current:getSizingData(node);if(nodeSizingData){measurementsCacheRef.current=nodeSizingData;var _calculateNodeHeight=(value=node.value||node.placeholder||"x",void 0===(minRows1=minRows)&&(minRows1=1),void 0===(maxRows1=maxRows)&&(maxRows1=1/0),hiddenTextarea||((hiddenTextarea=document.createElement("textarea")).setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles(hiddenTextarea)),null===hiddenTextarea.parentNode&&document.body.appendChild(hiddenTextarea),paddingSize=nodeSizingData.paddingSize,borderSize=nodeSizingData.borderSize,boxSizing=(sizingStyle=nodeSizingData.sizingStyle).boxSizing,Object.keys(sizingStyle).forEach(function(_key){hiddenTextarea.style[_key]=sizingStyle[_key]}),forceHiddenStyles(hiddenTextarea),hiddenTextarea.value=value,height=getHeight(hiddenTextarea,nodeSizingData),hiddenTextarea.value="x",minHeight=(rowHeight=hiddenTextarea.scrollHeight-paddingSize)*minRows1,"border-box"===boxSizing&&(minHeight=minHeight+paddingSize+borderSize),height=Math.max(minHeight,height),maxHeight=rowHeight*maxRows1,"border-box"===boxSizing&&(maxHeight=maxHeight+paddingSize+borderSize),[height=Math.min(maxHeight,height),rowHeight]),height1=_calculateNodeHeight[0],rowHeight1=_calculateNodeHeight[1];heightRef.current!==height1&&(heightRef.current=height1,node.style.setProperty("height",height1+"px","important"),onHeightChange(height1,{rowHeight:rowHeight1}))}};return(0,react.useLayoutEffect)(resizeTextarea),useWindowResizeListener(resizeTextarea),(0,react.createElement)("textarea",(0,esm_extends.Z)({},props,{onChange:function(event){isControlled||resizeTextarea(),onChange(event)},ref:ref}))})}},function(__webpack_require__){__webpack_require__.O(0,[455,353,774,888,179],function(){return __webpack_require__(__webpack_require__.s=104)}),_N_E=__webpack_require__.O()}]);